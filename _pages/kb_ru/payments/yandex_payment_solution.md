---
lang: ru
layout: article_with_sidebar
updated_at: '2017-10-23 11:16 +0400'
identifier: ref_baAbXfEo
title: Яндекс.Касса (Yandex Payment Solution)
order: 30
published: true
redirect_from:
  - /документация_на_русском/яндекс.касса__yandex_payment_solution.html
description: >-
  Подключите ваш магазин к сервису Яндекс.Касса (Yandex Payment Solution), чтобы
  принимать платежи с помощью банковских карт, наличных, Web-Money и
  Яндекс.Деньги.
icon: money
---
## Модуль Яндекс.Касса (Yandex Payment Solution)

Модуль **Яндекс.Касса** (**Yandex Payment Solution**) подключает приём электронных платежей в интернет-магазинах на базе X-Cart 5 через сервис [Яндекс](https://kassa.yandex.ru/). 

Модуль обеспечивает прием платежей в соответствии с новыми правилами 54-ФЗ ст.2 п.2, согласно которым c 1 февраля 2017 года владельцы интернет магазинов и онлайн сервисов должны отправлять электронные версии чеков оператору фискальных данных. Подробнее в [блоге](https://www.x-cart.ru/blog/yandex-kassa-robokassa-po-54-fz.html "Яндекс.Касса").

{% toc %}

## Установка модуля

{% note info %}
В [русскоязычной версии X-Cart](https://www.x-cart.ru/download.html) модуль активируется с установкой магазина. В [англоязычной версии](https://www.x-cart.com/download.html) модуль требует установки из Маркетплейса.
{% endnote %}

Для установки модуля перейдите в раздел **Мои модули**, используя панель управления магазином.  Найдите модуль **Yandex.Kassa** по названию и установите его.
![addon-enabled.png]({{site.baseurl}}/attachments/ref_baAbXfEo/addon-enabled.png)

## Подключение магазина к сервису Яндекс.Касса

Прежде чем приступать к настройке приема платежей в вашем интернет-магазине через сервис Яндекс.Касса, необходимо для начала зарегистрироваться на [https://kassa.yandex.ru/](https://kassa.yandex.ru/ "Яндекс.Касса (Yandex Payment Solution)") как юридическое лицо или ИП и получить в личном кабинете уникальный номер "shopId", который впоследствии будет использован на стороне X-Cart. Помимо "shopId" в личном кабинете Яндекс.Кассы также будет необходимо выпустить и активировать секретный ключ. 

Когда регистрация в сервисе Яндекс.Касса завершена, перейдите в раздел **Настройка магазина -> Приём платежей**, найдите платежку **Яндекс.Касса** в секции **Онлайн методы** на странице настроек оплаты и нажмите **Настроить**.
![payments-page.png]({{site.baseurl}}/attachments/ref_baAbXfEo/payments-page.png)

Вы будете перенаправлены на страницу настроек модуля **Яндекс.Касса**, где будет необходимо ввести следующие данные:
![settings-page.png]({{site.baseurl}}/attachments/ref_baAbXfEo/settings-page.png)

* **shopId** : Укажите уникальное значение shopID, которое Вы получили в личном кабинете Яндекс.Кассы после регистрации.
* **Секретный ключ** : Укажите уникальный секретный ключ, выпущенный и активированный в личном кабинете Яндекс.Кассы после регистрации.
* **Отправлять в Яндекс.Кассу данные для чеков (54-ФЗ)** : Выберите, будете ли Вы отправлять в Яндекс.Кассу данные для чеков (54-ФЗ).
* **Ставка НДС по умолчанию** : Выберите ставку НДС по умолчанию из списка. Применяемое к товару значение будет передаваться вместе с остальными фискальными данными, если на стороне Яндекс.Кассы настроено взаимодействие с онлайн кассой.
* **Тип транзакции** : Вы можете выбрать между стандартным процессом оплаты и отлатой с отложенным платежом. Отложенная оплата в отличие от стандартной оплаты с банковской карты проводится в два этапа: сначала деньги блокируются на карте пользователя, и только потом списываются, по вашему запросу. Такой способ оплаты также называют холдированием или предавторизацией.
* **Отсылать чек из ОФД** : Установите способ отправки чека из ОДФ - на электронную почту или на номер телефона.
* **Префикс для номера заказа** : При необходимости задайте префикс, который будет автоматически добавляться ко всем заказам, поступившим из этого интернет-магазина.
* **Адрес для уведомлений** : Этот адрес необходимо указать на странице настроек Яндекс.Кассы, чтобы включить обработку оповещений о состоянии платежа.

Не забудьте **сохранить** настройки, когда конфигурация модуля завершена. 

## Активация способа оплаты Яндекс:Касса

{% note info %} 
Перед активацией убедитесь, что модуль Яндекс.Касса корректно настроен - кнопка включения напротив названия данного способа оплаты в списке и на странице настрек модуля должна быть активна, т.е. доступна для переключения.
{% endnote %}

Активировать способ оплаты через Яндекс:Кассу в Вашем магазине можно как на странице настроек оплаты (**Настройка магазина** -> **Прием платежей**), так и непосредственно на странице настроек модуля Яндекс:Касса. Для этого переключите кнопку включения в состояние **Включено** (кнопка включения изменит свой цвет на зеленый) и способ оплаты Яндекс.Касса будет активирован:

<div class="ui stackable two column grid">
  <div class="column" markdown="span"><b>Страница настроек оплаты</b>![payment-on.png]({{site.baseurl}}/attachments/ref_baAbXfEo/payment-on.png)</div>
  <div class="column" markdown="span"><b>Страница настроек модуля Яндекс.Касса</b>![payment-on-settings.png]({{site.baseurl}}/attachments/ref_baAbXfEo/payment-on-settings.png)</div>
</div>

## Яндекс.Касса: Как это выглядит в X-Cart

После настройки и активации платежного модуля Яндекс.Касса через панель администратора X-Cart, в Вашем магазине появится новый способ оплаты - **Яндекс.Касса**:

![cus-checkout.png]({{site.baseurl}}/attachments/ref_baAbXfEo/cus-checkout.png)

Покупатель, выбравший способ оплаты Яндекс.Касса будет перенаправлен на сайт платежной системы для проведения оплаты. После оплаты покупатель увидит подтверждение заказа и квитанцию, где в качестве способа оплаты будет указано название способа, соответствующего Яндекс.Касса

Система "Яндекс Касса" производит оповещение вашего сайта о статусе платежа по специальному протоколу через определенные промежутки времени.

## Отключение Яндекс.Касса

При необходимости временно отключить для покупателей возможность оплаты через Яндекс.Кассу, необходимо деактивировать способ оплаты Яндекс.Касса в Вашем магазине. Для этого кнопку включения напротив названия способа оплаты Яндекс.Касса необходимо переключить в состояние **Выключено**.
